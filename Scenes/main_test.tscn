[gd_scene load_steps=17 format=3 uid="uid://de1p6ccj3xyf4"]

[ext_resource type="PackedScene" uid="uid://c6xvq7vgypn1l" path="res://Scenes/player.tscn" id="1_vp2v7"]
[ext_resource type="Shader" uid="uid://bik5r0pajxwdf" path="res://psx_camera/psx_camera_shader.gdshader" id="2_26jq3"]
[ext_resource type="Texture2D" uid="uid://buxubvcl0xme5" path="res://addons/proto-csgs/textures/dark/texture_07.png" id="4_18lj0"]
[ext_resource type="PackedScene" uid="uid://dxw7cledbpiia" path="res://addons/proto-csgs/proto_csg_box_3d.tscn" id="4_26jq3"]
[ext_resource type="Texture2D" uid="uid://wso5e7raaysq" path="res://addons/proto-csgs/textures/green/texture_07.png" id="5_yh4u3"]
[ext_resource type="MeshLibrary" uid="uid://cxiwkrl4hlptx" path="res://ModularLibrary.tres" id="6_kbjga"]
[ext_resource type="Texture2D" uid="uid://dd4v835tun4m0" path="res://addons/proto-csgs/textures/red/texture_07.png" id="8_0xk2i"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_087m6"]
sky_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)
ground_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)

[sub_resource type="Sky" id="Sky_kbjga"]
sky_material = SubResource("ProceduralSkyMaterial_087m6")

[sub_resource type="Environment" id="Environment_cg5rg"]
background_mode = 2
sky = SubResource("Sky_kbjga")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_087m6"]
render_priority = 0
shader = ExtResource("2_26jq3")
shader_parameter/enable_fog = true
shader_parameter/fog_color = Color(0.521658, 0.796629, 0.796154, 1)
shader_parameter/noise_color = Color(0.783523, 0.783523, 0.783523, 1)
shader_parameter/fog_distance = 100.0
shader_parameter/fog_fade_range = 50.0
shader_parameter/enable_noise = true
shader_parameter/noise_time_fac = 5.478
shader_parameter/enable_color_limitation = true
shader_parameter/color_levels = 32
shader_parameter/enable_dithering = true
shader_parameter/dither_strength = 0.3

[sub_resource type="QuadMesh" id="QuadMesh_kbjga"]
material = SubResource("ShaderMaterial_087m6")
size = Vector2(20, 20)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_26jq3"]
resource_local_to_scene = true
albedo_texture = ExtResource("4_18lj0")
uv1_offset = Vector3(0.5, 0.5, 0.5)
uv1_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_cg5rg"]
resource_local_to_scene = true
albedo_texture = ExtResource("5_yh4u3")
uv1_offset = Vector3(0.5, 0.5, 0.5)
uv1_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_yh4u3"]
resource_local_to_scene = true
albedo_texture = ExtResource("5_yh4u3")
uv1_offset = Vector3(0.5, 0.5, 0.5)
uv1_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_iflb3"]
resource_local_to_scene = true
albedo_texture = ExtResource("8_0xk2i")
uv1_offset = Vector3(0.5, 0.5, 0.5)
uv1_triplanar = true

[node name="MainTest" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 0, 0)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_cg5rg")

[node name="Pivot" type="Node3D" parent="."]

[node name="SpringArm3D" type="SpringArm3D" parent="Pivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.684513, 0)
collision_mask = 2
spring_length = -3.0

[node name="Camera3D" type="Camera3D" parent="Pivot/SpringArm3D"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, -3)
current = true

[node name="MeshInstance3D" type="MeshInstance3D" parent="Pivot/SpringArm3D/Camera3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.49691e-08, 0, -0.4)
mesh = SubResource("QuadMesh_kbjga")

[node name="ProtoCSGBox3D" parent="." instance=ExtResource("4_26jq3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.444245, 0)
collision_layer = 3
size = Vector3(100, 1, 100)
material = SubResource("StandardMaterial3D_26jq3")
block_style = 6

[node name="ProtoCSGBox3D2" parent="." instance=ExtResource("4_26jq3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.75292, 1.06913, 0.00469899)
collision_layer = 3
size = Vector3(2, 1.8197, 2)
material = SubResource("StandardMaterial3D_cg5rg")
block_color = 1
block_style = 6

[node name="ProtoCSGBox3D3" parent="." instance=ExtResource("4_26jq3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.52497, 0.0686507, -6.13414)
collision_layer = 3
size = Vector3(2, 3.83862, 2)
material = SubResource("StandardMaterial3D_yh4u3")
block_color = 1
block_style = 6

[node name="ProtoCSGBox3D4" parent="." instance=ExtResource("4_26jq3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.78237, -0.312758, -2.82899)
collision_layer = 3
size = Vector3(2, 3.07581, 2)
material = SubResource("StandardMaterial3D_iflb3")
block_color = 5
block_style = 6

[node name="GridMap" type="GridMap" parent="."]
mesh_library = ExtResource("6_kbjga")

[node name="Player" parent="." instance=ExtResource("1_vp2v7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.072, 0, 0)

[node name="CharacterVelocityHandler" parent="Player" index="1" node_paths=PackedStringArray("transform")]
transform = NodePath("../../Pivot")

[node name="FreeLook" parent="Player/StateMachine" index="0" node_paths=PackedStringArray("pivot")]
pivot = NodePath("../../../Pivot")

[editable path="Player"]
